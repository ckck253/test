<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyAdGjGxhgSW7QzDg-5JsqF9RbkgEFNdy04",
    authDomain: "coding-class-17c8b.firebaseapp.com",
    projectId: "coding-class-17c8b",
    storageBucket: "coding-class-17c8b.appspot.com",
    messagingSenderId: "37958732398",
    appId: "1:37958732398:web:12be3400a16204892cf47f",
    measurementId: "G-KDLVX0TDRK"
  };

  // Initialize Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const analytics = firebase.analytics();

  let currentUser = "";
  let currentRole = "";

  // Example login function
  function login() {
    const email = document.getElementById("email").value;
    const passInput = document.getElementById("password").value;
    const userInput = document.getElementById("username").value; // assuming you have a username input
    const errorMsg = document.getElementById("error-msg");

    auth.signInWithEmailAndPassword(email, passInput)
      .then((userCredential) => {
        // Signed in successfully
        currentUser = userInput;

        // Assign role based on username
        currentRole = (userInput.toLowerCase() === "teacher") ? "admin" : "student";

        errorMsg.textContent = "";
        document.getElementById("login-box").style.display = "none";
        document.getElementById("admin-panel").style.display = "block"; // Example
      })
      .catch((error) => {
        errorMsg.textContent = error.message;
      });
  }
</script>
